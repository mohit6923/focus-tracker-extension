document.addEventListener("DOMContentLoaded", function () { const toggleButton = document.getElementById("toggleButton"); chrome.storage.local.get("isFocusModeOn", function (data) { if (data.isFocusModeOn) { toggleButton.textContent = "Stop Focus"; } else { toggleButton.textContent = "Start Focus"; } }); toggleButton.addEventListener("click", function () { chrome.storage.local.get("isFocusModeOn", function (data) { const isFocusModeOn = !data.isFocusModeOn; chrome.storage.local.set({ isFocusModeOn: isFocusModeOn }, function () { toggleButton.textContent = isFocusModeOn ? "Stop Focus" : "Start Focus"; chrome.runtime.sendMessage({ toggleFocus: true, isFocusModeOn: isFocusModeOn }); }); }); }); });
